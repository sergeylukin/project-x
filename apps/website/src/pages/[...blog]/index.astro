---
import { PageLayout } from '@astro-nx-depla/shared/layout';
import { SinglePost, ToBlogLink } from '@astro-nx-depla/shared/ui';
import { db } from '@astro-nx-depla/website/db';

export const getStaticPaths = db.post.getPostViewStaticPaths

const { post } = Astro.props;
const meta = await db.post.getMetaByPost(post)
---

<PageLayout {meta}>
  <SinglePost post={{ ...post, url: meta.canonical, image: meta.image }} />
  <ToBlogLink />
</PageLayout>
