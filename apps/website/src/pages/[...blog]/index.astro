---
import { PageLayout } from '@astro-nx-depla/shared/layout';
import { SinglePost, ToBlogLink } from '@astro-nx-depla/shared/ui';
import { app } from '@astro-nx-depla/website/app';

export const getStaticPaths = app.post.getPostViewStaticPaths;

const { post } = Astro.props;
const meta = await app.post.getMetaByPost(post);
---

<PageLayout {meta}>
  <SinglePost post={{ ...post, url: meta.canonical, image: meta.image }} />
  <ToBlogLink />
</PageLayout>
